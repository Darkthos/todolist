<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>mindolist</title>
  </head>
  <body>
    <header>
      <h1 class="title">Min do list</h1>
    </header>
    <main>
      <form id="todo-form">
        <input id="input-text" type="text" placeholder="to do text" />
        <button class="add" type="button" onclick="addItem()">add</button>
        <button class="reset" type="button" onclick="resetList()">reset</button>
      </form>
      <ul id="todo-list"></ul>
    </main>
    <script>
      // Load saved items from localStorage
      window.onload = function () {
        loadItems();
      };

      //add item to list
      function addItem() {
        let input = document.getElementById("input-text");
        let text = input.value.trim();

        if (text !== "") {
          let list = document.getElementById("todo-list");
          let li = document.createElement("li");
          li.textContent = text;
          list.appendChild(li);

          // Save item to localStorage
          saveItems();

          // Clear input field
          input.value = "";
        }
      }

      //reset the list
      function resetList() {
        let list = document.getElementById("todo-list");
        list.innerHTML = "";

        // Clear items from localStorage
        localStorage.removeItem("todoItems");
      }

      // save items to localStorage
      function saveItems() {
        let list = document.getElementById("todo-list");
        let items = list.getElementsByTagName("li");
        let itemList = [];

        for (let i = 0; i < items.length; i++) {
          itemList.push(items[i].textContent);
        }

        localStorage.setItem("todoItems", JSON.stringify(itemList));
      }

      // load items from localStorage
      function loadItems() {
        let list = document.getElementById("todo-list");
        let itemList = JSON.parse(localStorage.getItem("todoItems"));

        if (itemList) {
          for (let i = 0; i < itemList.length; i++) {
            let li = document.createElement("li");
            li.textContent = itemList[i];
            list.appendChild(li);
          }
        }
      }
    </script>
  </body>
</html>
